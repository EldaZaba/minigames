<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="../assets/favicon/favicon.ico" />
  <title>Kámen, nůžky, papír - Mě to nebaví CZ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../assets/theme.css" />
  <script src="../assets/theme.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: clamp(16px, 3vw, 32px);
      gap: 1rem;
    }
    header {
      text-align: center;
    }
    .choices {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .choice {
      width: clamp(70px, 20vw, 96px);
      height: clamp(70px, 20vw, 96px);
      border-radius: 18px;
      border: 1px solid var(--surface-border);
      background: var(--surface);
      box-shadow: var(--shadow-soft);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: clamp(2.4rem, 7vw, 3.6rem);
      user-select: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .choice:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-strong);
    }
    #result {
      min-height: 2rem;
      font-weight: 600;
    }
  </style>
</head>
<body class="game-page">
  <header>
    <h1 class="hero-title">Kámen, nůžky, papír</h1>
    <p class="hero-subtitle">Vyberte svůj tah a hrajte proti počítači.</p>
  </header>

  <div class="panel game-shell" role="main" aria-label="Kámen, nůžky, papír">
    <div class="choices" role="group" aria-label="Volby Kámen, nůžky, papír">
      <div class="choice" data-choice="kámen" aria-label="Kámen" tabindex="0">✊</div>
      <div class="choice" data-choice="nůžky" aria-label="Nůžky" tabindex="0">✌️</div>
      <div class="choice" data-choice="papír" aria-label="Papír" tabindex="0">✋</div>
    </div>
    <p id="result" class="status" aria-live="polite"></p>
    <div class="controls">
      <button id="btnRestart" class="btn btn-secondary">Restart</button>
    </div>
  </div>
  <a href="../games.html" class="link-back">Zpět na výběr her</a>

  <script>
    const choices = ['kámen', 'nůžky', 'papír'];
    const choiceElements = document.querySelectorAll('.choice');
    const resultDiv = document.getElementById('result');

    function getComputerChoice() {
      const randomIndex = Math.floor(Math.random() * choices.length);
      return choices[randomIndex];
    }

    function determineWinner(player, computer) {
      if (player === computer) return 'Remíza!';
      if (
        (player === 'kámen' && computer === 'nůžky') ||
        (player === 'nůžky' && computer === 'papír') ||
        (player === 'papír' && computer === 'kámen')
      ) {
        return 'Vyhrál jste!';
      }
      return 'Prohrál jste!';
    }

    function playRound(playerChoice) {
      const computerChoice = getComputerChoice();
      const result = determineWinner(playerChoice, computerChoice);
      resultDiv.textContent = `Vy: ${playerChoice} | Počítač: ${computerChoice} — ${result}`;
    }

    choiceElements.forEach(el => {
      el.addEventListener('click', () => {
        playRound(el.dataset.choice);
      });
      el.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          playRound(el.dataset.choice);
        }
      });
    });

    document.getElementById('btnRestart').addEventListener('click', () => {
      resultDiv.textContent = '';
    });
  </script>
</body>
</html>

